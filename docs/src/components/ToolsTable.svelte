<script>
    // å·¥å…·æ•°æ® - ä¸ packages.yaml ä¿æŒåŒæ­¥
    const toolsData = [
        {
            type: "ğŸ“ æ–‡ä»¶ç®¡ç†",
            icon: "ğŸ“‚",
            color: "from-blue-500 to-cyan-500",
            tools: [
                { name: "eza", desc: "ç°ä»£åŒ– ls æ›¿ä»£å“ï¼Œæ”¯æŒå›¾æ ‡ã€Git é›†æˆå’Œå½©è‰²è¾“å‡º", macOS: true, linux: true },
                { name: "fd", desc: "ç”¨æˆ·å‹å¥½çš„ find æ›¿ä»£å“ï¼Œè¯­æ³•ç®€æ´ï¼Œé€Ÿåº¦å¿«", macOS: true, linux: true },
                { name: "tree", desc: "ä»¥æ ‘å½¢ç»“æ„æ˜¾ç¤ºç›®å½•å±‚æ¬¡", macOS: true, linux: true },
                { name: "erdtree", desc: "ç°ä»£åŒ–çš„å¤šçº¿ç¨‹æ–‡ä»¶æ ‘æŸ¥çœ‹å™¨ï¼Œæ”¯æŒæ–‡ä»¶å¤§å°ç»Ÿè®¡", macOS: true, linux: false },
                { name: "watch", desc: "ç›‘æ§æ–‡ä»¶å˜åŒ–å¹¶æ‰§è¡Œå‘½ä»¤", macOS: true, linux: false },
            ]
        },
        {
            type: "ğŸ” æ–‡æœ¬æœç´¢ä¸æŸ¥çœ‹",
            icon: "ğŸ”",
            color: "from-purple-500 to-pink-500",
            tools: [
                { name: "bat", desc: "å¸¦è¯­æ³•é«˜äº®çš„ catï¼Œæ”¯æŒ Git é›†æˆå’Œæ–‡ä»¶é¢„è§ˆ", macOS: true, linux: true },
                { name: "ripgrep", desc: "è¶…å¿«çš„æ–‡æœ¬æœç´¢å·¥å…· (rg)ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼", macOS: true, linux: true },
                { name: "fzf", desc: "å‘½ä»¤è¡Œæ¨¡ç³Šæœç´¢å™¨ï¼Œäº¤äº’å¼é€‰æ‹©ç•Œé¢", macOS: true, linux: true },
            ]
        },
        {
            type: "âš¡ æ•ˆç‡å·¥å…·",
            icon: "âš¡",
            color: "from-amber-500 to-orange-500",
            tools: [
                { name: "zoxide", desc: "æ™ºèƒ½ç›®å½•è·³è½¬å·¥å…·ï¼ŒåŸºäºè®¿é—®é¢‘ç‡å’Œæœ€è¿‘ä½¿ç”¨", macOS: true, linux: true },
                { name: "lazygit", desc: "Git çš„ç»ˆç«¯ UIï¼Œå¯è§†åŒ– Git æ“ä½œ", macOS: true, linux: true },
                { name: "htop", desc: "äº¤äº’å¼è¿›ç¨‹æŸ¥çœ‹å™¨ï¼Œèµ„æºç›‘æ§åˆ©å™¨", macOS: true, linux: true },
                { name: "httpie", desc: "äººæ€§åŒ–çš„ HTTP å®¢æˆ·ç«¯ï¼Œè¯­æ³•ç®€æ´å‹å¥½", macOS: true, linux: false },
            ]
        },
        {
            type: "ğŸ› ï¸ å¼€å‘å·¥å…·",
            icon: "ğŸ‘¨â€ğŸ’»",
            color: "from-emerald-500 to-teal-500",
            tools: [
                { name: "neovim", desc: "ç°ä»£åŒ–çš„ Vim ç¼–è¾‘å™¨ï¼Œæ”¯æŒ Lua å’Œ LSP", macOS: true, linux: true },
                { name: "shfmt", desc: "Shell è„šæœ¬æ ¼å¼åŒ–å·¥å…·ï¼Œç»Ÿä¸€ä»£ç é£æ ¼", macOS: true, linux: true },
                { name: "biome", desc: "é«˜æ€§èƒ½å‰ç«¯å·¥å…·é“¾ï¼Œä»£ç æ ¼å¼åŒ–å’Œ Lint", macOS: true, linux: false },
                { name: "tree-sitter-cli", desc: "è§£æå™¨ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€", macOS: true, linux: true },
            ]
        },
        {
            type: "ğŸ³ å®¹å™¨ä¸äº‘åŸç”Ÿ",
            icon: "ğŸ‹",
            color: "from-sky-500 to-blue-600",
            tools: [
                { name: "docker", desc: "å®¹å™¨åŒ–å¹³å°ï¼Œåº”ç”¨æ‰“åŒ…å’Œéƒ¨ç½²", macOS: true, linux: true },
                { name: "podman", desc: "æ— å®ˆæŠ¤è¿›ç¨‹çš„å®¹å™¨å¼•æ“ï¼ŒDocker æ›¿ä»£å“", macOS: true, linux: false },
                { name: "kubectl", desc: "Kubernetes å‘½ä»¤è¡Œå·¥å…·ï¼Œé›†ç¾¤ç®¡ç†", macOS: true, linux: true },
                { name: "helm", desc: "Kubernetes åŒ…ç®¡ç†å™¨ï¼Œåº”ç”¨éƒ¨ç½²æ¨¡æ¿åŒ–", macOS: true, linux: true },
                { name: "k9s", desc: "Kubernetes ç®¡ç†å·¥å…·ï¼Œå¯è§†åŒ–æ“ä½œç•Œé¢", macOS: true, linux: true },
                { name: "kustomize", desc: "Kubernetes é…ç½®ç®¡ç†ï¼Œæ— æ¨¡æ¿å®šåˆ¶", macOS: true, linux: false },
                { name: "grpcurl", desc: "gRPC è°ƒè¯•å·¥å…·ï¼Œä¸ gRPC æœåŠ¡å™¨äº¤äº’", macOS: true, linux: true },
            ]
        },
        {
            type: "ğŸ”§ æ•°æ®å¤„ç†",
            icon: "ğŸ”¨",
            color: "from-violet-500 to-purple-600",
            tools: [
                { name: "jq", desc: "JSON å¤„ç†å’ŒæŸ¥è¯¢å·¥å…·ï¼Œæ”¯æŒè¿‡æ»¤å’Œè½¬æ¢", macOS: true, linux: true },
                { name: "yq", desc: "YAML å¤„ç†å·¥å…·ï¼Œç±»ä¼¼ jq çš„ YAML ç‰ˆæœ¬", macOS: true, linux: true },
                { name: "nali", desc: "IP åœ°å€å½’å±åœ°æŸ¥è¯¢å·¥å…·", macOS: true, linux: false },
                { name: "wget", desc: "æ–‡ä»¶ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒ HTTP/HTTPS/FTP", macOS: true, linux: true },
            ]
        },
        {
            type: "ğŸ“ Git ä¸ç‰ˆæœ¬æ§åˆ¶",
            icon: "ğŸ”€",
            color: "from-slate-600 to-zinc-700",
            tools: [
                { name: "gh", desc: "GitHub å®˜æ–¹ CLIï¼Œç®¡ç† Issuesã€PR ç­‰", macOS: true, linux: true },
                { name: "krew", desc: "kubectl æ’ä»¶ç®¡ç†å™¨ï¼Œæ‰©å±• kubectl åŠŸèƒ½", macOS: true, linux: false },
            ]
        },
        {
            type: "ğŸ¨ ç»ˆç«¯ç¾åŒ–",
            icon: "ğŸ¨",
            color: "from-pink-500 to-rose-500",
            tools: [
                { name: "starship", desc: "å¯å®šåˆ¶çš„ Shell æç¤ºç¬¦ï¼Œæ”¯æŒå¤šç§è¯­è¨€", macOS: true, linux: true },
            ]
        },
        {
            type: "ğŸ” å®‰å…¨å·¥å…·",
            icon: "ğŸ”‘",
            color: "from-red-500 to-rose-600",
            tools: [
                { name: "gnupg", desc: "GNU éšç§å«å£« (GPG)ï¼ŒåŠ å¯†å’Œç­¾å", macOS: true, linux: true },
                { name: "pwgen", desc: "å¯†ç ç”Ÿæˆå™¨ï¼Œç”Ÿæˆå®‰å…¨éšæœºå¯†ç ", macOS: true, linux: false },
            ]
        },
        {
            type: "âš™ï¸ ç³»ç»Ÿå·¥å…·",
            icon: "âš™ï¸",
            color: "from-neutral-500 to-stone-600",
            tools: [
                { name: "tmux", desc: "ç»ˆç«¯å¤ç”¨å™¨ï¼Œå¤šçª—å£ä¼šè¯ç®¡ç†", macOS: true, linux: true },
                { name: "telnet", desc: "è¿œç¨‹ç™»å½•å·¥å…·ï¼Œæµ‹è¯•ç½‘ç»œè¿æ¥", macOS: true, linux: false },
                { name: "unzip", desc: "ZIP è§£å‹å·¥å…·", macOS: true, linux: false },
                { name: "ca-certificates", desc: "CA è¯ä¹¦ï¼ŒHTTPS è¿æ¥ä¿¡ä»»", macOS: true, linux: false },
                { name: "coreutils", desc: "GNU æ ¸å¿ƒå·¥å…·é›†ï¼ŒåŸºç¡€å‘½ä»¤å¢å¼º", macOS: true, linux: false },
            ]
        },
    ];

    // è®¡ç®—ç»Ÿè®¡æ•°æ®
    const allTools = toolsData.flatMap(cat => cat.tools);
    const totalTools = allTools.length;
    const linuxTools = allTools.filter(t => t.linux).length;
    const linuxPercent = Math.round((linuxTools / totalTools) * 100);
</script>

<section
    class="py-20 bg-gradient-to-br from-gray-50 via-white to-slate-100 dark:from-gray-900 dark:via-gray-800 dark:to-slate-900"
>
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-8">
            <h2
                class="text-3xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400"
            >
                ğŸ› ï¸ åŒ…å«å·¥å…·
            </h2>
            <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                ç²¾é€‰ç°ä»£åŒ–å¼€å‘å·¥å…·ï¼Œæ¶µç›–æ–‡ä»¶ç®¡ç†ã€æ–‡æœ¬æœç´¢ã€å¼€å‘æ•ˆç‡ç­‰å„ä¸ªæ–¹é¢
            </p>
        </div>

        <!-- ç»Ÿè®¡ä¿¡æ¯ - æ”¾åœ¨é¡¶éƒ¨ä½œä¸ºæ¦‚è§ˆ -->
        <div class="mb-12 grid grid-cols-3 gap-4 md:gap-6">
            <div class="bg-white dark:bg-gray-800 rounded-xl p-6 text-center shadow-md border border-gray-200 dark:border-gray-700">
                <div class="text-4xl md:text-5xl font-bold text-indigo-600 dark:text-indigo-400">{totalTools}</div>
                <div class="text-sm text-gray-600 dark:text-gray-400 mt-2 font-medium">ç²¾é€‰å·¥å…·</div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-xl p-6 text-center shadow-md border border-gray-200 dark:border-gray-700">
                <div class="text-4xl md:text-5xl font-bold text-emerald-600 dark:text-emerald-400">100%</div>
                <div class="text-sm text-gray-600 dark:text-gray-400 mt-2 font-medium">macOS å…¼å®¹</div>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-xl p-6 text-center shadow-md border border-gray-200 dark:border-gray-700">
                <div class="text-4xl md:text-5xl font-bold text-sky-600 dark:text-sky-400">{linuxPercent}%</div>
                <div class="text-sm text-gray-600 dark:text-gray-400 mt-2 font-medium">Linux å…¼å®¹</div>
            </div>
        </div>

        <!-- å·¥å…·å¡ç‰‡ç½‘æ ¼ -->
        <div class="grid gap-6 md:gap-8">
            {#each toolsData as category}
                <div class="group">
                    <!-- åˆ†ç±»æ ‡é¢˜ -->
                    <div class="flex items-center mb-6">
                        <span class="text-3xl mr-3">{category.icon}</span>
                        <h3 class="text-2xl font-bold bg-gradient-to-r {category.color} bg-clip-text text-transparent">
                            {category.type}
                        </h3>
                    </div>

                    <!-- å·¥å…·å¡ç‰‡ -->
                    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                        {#each category.tools as tool}
                            <div
                                class="bg-white/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-5 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-200/60 dark:border-gray-700/40 hover:border-indigo-300/60 dark:hover:border-indigo-500/40 group"
                            >
                                <!-- å·¥å…·åç§°å’Œå¹³å°æ”¯æŒ -->
                                <div class="flex items-start justify-between mb-3">
                                    <h4 class="text-lg font-semibold text-gray-800 dark:text-gray-50 font-mono group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">
                                        {tool.name}
                                    </h4>
                                    <div class="flex gap-2">
                                        {#if tool.macOS}
                                            <span
                                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-300 border border-emerald-200 dark:border-emerald-800/30"
                                                title="æ”¯æŒ macOS"
                                            >
                                                macOS
                                            </span>
                                        {/if}
                                        {#if tool.linux}
                                            <span
                                                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-sky-50 text-sky-600 dark:bg-sky-900/20 dark:text-sky-300 border border-sky-200 dark:border-sky-800/30"
                                                title="æ”¯æŒ Linux"
                                            >
                                                Linux
                                            </span>
                                        {/if}
                                    </div>
                                </div>

                                <!-- å·¥å…·æè¿° -->
                                <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed">
                                    {tool.desc}
                                </p>
                            </div>
                        {/each}
                    </div>
                </div>
            {/each}
        </div>
    </div>
</section>

<style>
    /* ç¡®ä¿ç½‘æ ¼å¸ƒå±€åœ¨ç§»åŠ¨ç«¯ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º */
    @media (max-width: 768px) {
        .grid {
            grid-template-columns: 1fr;
        }
    }
</style>